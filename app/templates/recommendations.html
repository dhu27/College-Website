{% extends "base.html" %}
{% block title %}Recommendations{% endblock %}
{% block content %}

<h2>Recommendations</h2>
<form method="post">
  <input name="states" placeholder="State code (e.g. CA)" />
  <input name="sat" type="number" placeholder="SAT (optional)" />
  <input name="act" type="number" placeholder="ACT (optional)" />
  <input name="academics" type="number" step="0.1" placeholder="Academics weight" />
  <input name="value" type="number" step="0.1" placeholder="Value weight" />
  <input name="diversity" type="number" step="0.1" placeholder="Diversity weight" />
  <input name="urbanicity" type="number" step="0.1" placeholder="Urbanicity weight" />
  <input name="campus" type="number" step="0.1" placeholder="Campus weight" />
  <button type="submit">Get Recommendations</button>
</form>

<ul>
  {% for r in results %}
    <li>
      {{ r.INSTNM }} ({{ r.CITY }}, {{ r.STABBR }}) â€” Score: {{ '%.2f'|format(r.score) }}
      {% if user_lists and user_lists|length > 0 %}
        <form method="post" action="{{ url_for('lists.add_to_list', list_id=user_lists[0].id) }}" style="display:inline">
          <input type="hidden" name="college_id" value="{{ r.id or r.UNITID }}">
          <button type="submit">Add to first list</button>
        </form>
      {% else %}
        <a href="{{ url_for('lists.my_lists') }}">Create a list to save</a>
      {% endif %}
    </li>
  {% endfor %}
</ul>

{% endblock %}